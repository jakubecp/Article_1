#coordinates of observations (filter out NAs and obvious mistakes!)
coord <- data.frame (long = n.ger$data$decimalLongitude ,
lat= n.ger$data$decimalLatitude)
## merge three datasets cz.lat, cz.long, antennatus (0,1),
## + decimalLongitude and decimalLatitude
# new line to coord data frame with presence/absence data
ger = c(1,1,1,1,1,1)
length (ger)
coord = data.frame (coord, ger)
## bind data from previous manipulation (dms to dd) with presence/absence data
coord.cz = data.frame (long = cz.long, lat = cz.lat, ger = cz.nic.raw$germanicus)
## bind both dataframes (GBIF + CZ) together
coord.full = rbind (coord, coord.cz)
## created two data frames with presence data and absence data.
coord = data.frame (long = coord.full$long [coord.full$ger == "1"],
lat = coord.full$lat [coord.full$ger == "1"])
coord.neg = data.frame (long = coord.full$long [coord.full$ger == "0"],
lat = coord.full$lat [coord.full$ger == "0"])
setwd ("F:/Spatial_modeling/ENM_2015_Varela/climatic_layers/worldclim ")#disk 2 skola
variable<- stack (c("bio10.bil", "bio8.bil", "bio16.bil", "bio1.bil")) #(c("bio10.bil", "bio8.bil", "bio2.bil", "bio1.bil"))
#optional-if you are interested in more local (and quicker) predictions
#make an object (e) of certain extant (xmin, xmax, ymin, ymax) for croping
e<-extent (-10,38,35,65)
#crop your climatic maps
variable_crop<- crop (variable, e)
#Project niches of target species by extracting values from raster and ploting them
maxent_all <- maxent (variable_crop, coord, args=c("maximumbackground=1000",
"betamultiplier=1",
"defaultprevalence=0.5"))
maxent_all@results
#just AUC
maxent_all@results[5]
maxent_all_predict<- predict (maxent_all, variable_crop)
m = c(0.4666,1,1,0,0.4665,0)
rclmat = matrix (m,ncol=3,byrow=TRUE)
endangered_reclas<- reclassify (maxent_all_predict, rclmat)
library (rworldmap)
newmap = getMap(resolution="low")
setwd ("C:/Users/jakubecp/Dropbox/SGEM_2015/Article_1")# skola
tiff (filename="germanicus.tiff", width=5000, height=5000,
compression="lzw", res= 800)
plot (endangered_reclas, legend=F, xlim=c(-10,35), ylim=c(35,65))
plot (newmap, xlim=c(5,45), ylim=c(42,56), add=T)
dev.off()
library (rgbif) #nefunguje pod ubuntu
library (raster)
library (maptools)
library (XML) #nefunguje pod ubuntu
library (rgdal) #nefunguje pod ubuntu
library (dismo)
library (sqldf)
library (maps)
library (testthat)
library (adehabitatHS)
library (roxygen2)
library (celestial)
library (ggplot2)
library (rJava)
data(wrld_simpl) #create the World map with borders
##trasfering data from our observations in czech republic
setwd ("C:/Users/jakubecp/Dropbox/SGEM_2015/Article_1")# skola
cz.nic.raw = read.csv ("nicr.czech.csv", header= TRUE, sep=";")
head(cz.nic.raw)
## first solution for transformation of DMS into the decimal degrees
## with function convert
n=length(cz.nic.raw$lat)
cz.lat = c()
cz.long = c()
for (i in 1:n) {
cz.lat[i]=dms2deg (as.character (cz.nic.raw[i,5]), sep="DMS")
cz.long[i]=dms2deg (as.character (cz.nic.raw[i,6]), sep="DMS")
}
n.ant<- occ_search(scientificName = "Nicrophorus antennatus",
hasCoordinate= TRUE, limit = 500)
#coordinates of observations (filter out NAs and obvious mistakes!)
coord <- data.frame (long = n.ant$data$decimalLongitude ,
lat= n.ant$data$decimalLatitude)
## merge three datasets cz.lat, cz.long, antennatus (0,1),
## + decimalLongitude and decimalLatitude
# new line to coord data frame with presence/absence data
antenn = c(1,1,1,1,1,1,1,1,1,1)
coord = data.frame (coord, antenn)
## bind data from previous manipulation (dms to dd) with presence/absence data
coord.cz = data.frame (long = cz.long, lat = cz.lat, antenn = cz.nic.raw$antennatus)
## bind both dataframes (GBIF + CZ) together
coord.full = rbind (coord, coord.cz)
## created two data frames with presence data and absence data.
coord = data.frame (long = coord.full$long [coord.full$antenn == "1"],
lat = coord.full$lat [coord.full$antenn == "1"])
coord.neg = data.frame (long = coord.full$long [coord.full$antenn == "0"],
lat = coord.full$lat [coord.full$antenn == "0"])
X11()
plot (coord, xlim=c(-10,35), ylim=c(35,65))
plot (wrld_simpl, add=T)
#choose the right (important) climatic variables (http://www.worldclim.org/bioclim)
#for your species and stack them! USE ENFA (package adehabitat) for selection of the right variables
#if you do not know a lot about them
setwd ("F:/Spatial_modeling/ENM_2015_Varela/climatic_layers/worldclim ")#disk 2 skola
setwd ("C:/Users/pavel/Downloads/Vzdelavani/Spatial_modeling/ENM_2015_Varela/climatic_layers/worldclim/") #notas
setwd ("/home/pavel/Documents/ENM_2015_Varela/climatic_layers/worldclim") #linux
?enfa
variable<- stack (c("bio10.bil", "bio8.bil", "bio16.bil", "bio1.bil")) #(c("bio10.bil", "bio8.bil", "bio2.bil", "bio1.bil"))
#optional-if you are interested in more local (and quicker) predictions
#make an object (e) of certain extant (xmin, xmax, ymin, ymax) for croping
e<-extent (-10,38,35,65)
#crop your climatic maps
variable_crop<- crop (variable, e)
maxent_all <- maxent (variable_crop, coord, args=c("maximumbackground=1000",
"betamultiplier=1",
"defaultprevalence=0.5"))
maxent_all_predict<- predict (maxent_all, variable_crop)
m = c(0.4267,1,1,0,0.4266,0)
rclmat = matrix (m,ncol=3,byrow=TRUE)
endangered_reclas<- reclassify (maxent_all_predict, rclmat)
library (rworldmap)
newmap = getMap(resolution="low")
setwd ("C:/Users/jakubecp/Dropbox/SGEM_2015/Article_1")# skola
tiff (filename="anntenatus2.tiff", width=5000, height=5000,
compression="lzw", res= 800)
plot (endangered_reclas, legend=F, xlim=c(-10,35), ylim=c(35,65))
plot (newmap, xlim=c(5,45), ylim=c(42,56), add=T)
dev.off()
n.sep<- occ_search(scientificName = "Nicrophorus sepultor",
hasCoordinate= TRUE, limit = 500)
#coordinates of observations (filter out NAs and obvious mistakes!)
coord <- data.frame (long = n.sep$data$decimalLongitude ,
lat= n.sep$data$decimalLatitude)
## merge three datasets cz.lat, cz.long, antennatus (0,1),
## + decimalLongitude and decimalLatitude
# new line to coord data frame with presence/absence data
sep = c(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1)
length (sep)
coord = data.frame (coord, sep)
## bind data from previous manipulation (dms to dd) with presence/absence data
coord.cz = data.frame (long = cz.long, lat = cz.lat, sep = cz.nic.raw$sepultor)
## bind both dataframes (GBIF + CZ) together
coord.full = rbind (coord, coord.cz)
## created two data frames with presence data and absence data.
coord = data.frame (long = coord.full$long [coord.full$sep == "1"],
lat = coord.full$lat [coord.full$sep == "1"])
coord.neg = data.frame (long = coord.full$long [coord.full$sep == "0"],
lat = coord.full$lat [coord.full$sep == "0"])
variable<- stack (c("bio10.bil", "bio8.bil", "bio16.bil", "bio1.bil")) #(c("bio10.bil", "bio8.bil", "bio2.bil", "bio1.bil"))
#optional-if you are interested in more local (and quicker) predictions
#make an object (e) of certain extant (xmin, xmax, ymin, ymax) for croping
setwd ("F:/Spatial_modeling/ENM_2015_Varela/climatic_layers/worldclim ")#disk 2 skola
variable<- stack (c("bio10.bil", "bio8.bil", "bio16.bil", "bio1.bil")) #(c("bio10.bil", "bio8.bil", "bio2.bil", "bio1.bil"))
#optional-if you are interested in more local (and quicker) predictions
#make an object (e) of certain extant (xmin, xmax, ymin, ymax) for croping
e<-extent (-10,38,35,65)
#crop your climatic maps
variable_crop<- crop (variable, e)
maxent_all <- maxent (variable_crop, coord, args=c("maximumbackground=1000",
"betamultiplier=1",
"defaultprevalence=0.5"))
maxent_all@results
#just AUC
maxent_all@results[5]
maxent_all_predict<- predict (maxent_all, variable_crop)
m = c(0.4437,1,1,0,0.4436,0)
rclmat = matrix (m,ncol=3,byrow=TRUE)
endangered_reclas<- reclassify (maxent_all_predict, rclmat)
tiff (filename="sepultor2.tiff", width=5000, height=5000,
compression="lzw", res= 800)
plot (endangered_reclas, legend=F, xlim=c(-10,35), ylim=c(35,65))
plot (newmap, xlim=c(5,45), ylim=c(42,56), add=T)
dev.off()
m = c(0.4263,1,1,0,0.4262,0)
rclmat = matrix (m,ncol=3,byrow=TRUE)
endangered_reclas<- reclassify (maxent_all_predict, rclmat)
library (rworldmap)
newmap = getMap(resolution="low")
plot (endangered_reclas, legend=F, xlim=c(-10,35), ylim=c(35,65))
plot (newmap, xlim=c(5,45), ylim=c(42,56), add=T)
setwd ("C:/Users/jakubecp/Dropbox/SGEM_2015/Article_1")# skola
tiff (filename="sepultor2.tiff", width=5000, height=5000,
compression="lzw", res= 800)
plot (endangered_reclas, legend=F, xlim=c(-10,35), ylim=c(35,65))
plot (newmap, xlim=c(5,45), ylim=c(42,56), add=T)
dev.off()
setwd ("C:/Users/jakubecp/Dropbox/SGEM_2015/Article_1")# skola
cz.nic.raw = read.csv ("nicr.czech.csv", header= TRUE, sep=";")
head(cz.nic.raw)
n=length(cz.nic.raw$lat)
cz.lat = c()
cz.long = c()
for (i in 1:n) {
cz.lat[i]=dms2deg (as.character (cz.nic.raw[i,5]), sep="DMS")
cz.long[i]=dms2deg (as.character (cz.nic.raw[i,6]), sep="DMS")
}
#RAW data from GBIF (only records with coordinates and you should set up upper limit of them)
n.sep<- occ_search(scientificName = "Nicrophorus sepultor",
hasCoordinate= TRUE, limit = 500)
#coordinates of observations (filter out NAs and obvious mistakes!)
coord <- data.frame (long = n.sep$data$decimalLongitude ,
lat= n.sep$data$decimalLatitude)
## merge three datasets cz.lat, cz.long, antennatus (0,1),
## + decimalLongitude and decimalLatitude
# new line to coord data frame with presence/absence data
sep = c(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1)
length (sep)
coord = data.frame (coord, sep)
## bind data from previous manipulation (dms to dd) with presence/absence data
coord.cz = data.frame (long = cz.long, lat = cz.lat, sep = cz.nic.raw$sepultor)
## bind both dataframes (GBIF + CZ) together
coord.full = rbind (coord, coord.cz)
## created two data frames with presence data and absence data.
coord = data.frame (long = coord.full$long [coord.full$sep == "1"],
lat = coord.full$lat [coord.full$sep == "1"])
coord.neg = data.frame (long = coord.full$long [coord.full$sep == "0"],
lat = coord.full$lat [coord.full$sep == "0"])
coord
n.ant<- occ_search(scientificName = "Nicrophorus antennatus",
hasCoordinate= TRUE, limit = 500)
#coordinates of observations (filter out NAs and obvious mistakes!)
coord <- data.frame (long = n.ant$data$decimalLongitude ,
lat= n.ant$data$decimalLatitude)
## merge three datasets cz.lat, cz.long, antennatus (0,1),
## + decimalLongitude and decimalLatitude
# new line to coord data frame with presence/absence data
antenn = c(1,1,1,1,1,1,1,1,1,1)
length(antenn)
library (rgbif) #nefunguje pod ubuntu
library (raster)
library (maptools)
library (XML) #nefunguje pod ubuntu
library (rgdal) #nefunguje pod ubuntu
library (dismo)
library (sqldf)
library (maps)
library (testthat)
library (adehabitatHS)
library (roxygen2)
library (celestial)
library (ggplot2)
library (rJava)
setwd ("C:/Users/jakubecp/Dropbox/SGEM_2015/Article_1")# skola
cz.nic.raw = read.csv ("nicr.czech.csv", header= TRUE, sep=";")
head(cz.nic.raw)
n=length(cz.nic.raw$lat)
cz.lat = c()
cz.long = c()
for (i in 1:n) {
cz.lat[i]=dms2deg (as.character (cz.nic.raw[i,5]), sep="DMS")
cz.long[i]=dms2deg (as.character (cz.nic.raw[i,6]), sep="DMS")
}
#RAW data from GBIF (only records with coordinates and you should set up upper limit of them)
n.ger<- occ_search(scientificName = "Nicrophorus germanicus",
hasCoordinate= TRUE, limit = 500)
#coordinates of observations (filter out NAs and obvious mistakes!)
coord <- data.frame (long = n.ger$data$decimalLongitude ,
lat= n.ger$data$decimalLatitude)
## merge three datasets cz.lat, cz.long, antennatus (0,1),
## + decimalLongitude and decimalLatitude
# new line to coord data frame with presence/absence data
ger = c(1,1,1,1,1,1)
length (ger)
coord = data.frame (coord, ger)
## bind data from previous manipulation (dms to dd) with presence/absence data
coord.cz = data.frame (long = cz.long, lat = cz.lat, ger = cz.nic.raw$germanicus)
## bind both dataframes (GBIF + CZ) together
coord.full = rbind (coord, coord.cz)
## created two data frames with presence data and absence data.
coord = data.frame (long = coord.full$long [coord.full$ger == "1"],
lat = coord.full$lat [coord.full$ger == "1"])
coord.neg = data.frame (long = coord.full$long [coord.full$ger == "0"],
lat = coord.full$lat [coord.full$ger == "0"])
variable<- stack (c("bio10.bil", "bio8.bil", "bio16.bil", "bio1.bil")) #(c("bio10.bil", "bio8.bil", "bio2.bil", "bio1.bil"))
#optional-if you are interested in more local (and quicker) predictions
#make an object (e) of certain extant (xmin, xmax, ymin, ymax) for croping
e<-extent (-10,38,35,65)
#crop your climatic maps
variable_crop<- crop (variable, e)
setwd ("F:/Spatial_modeling/ENM_2015_Varela/climatic_layers/worldclim ")#disk 2 skola
#optional-if you are interested in more local (and quicker) predictions
#make an object (e) of certain extant (xmin, xmax, ymin, ymax) for croping
e<-extent (-10,38,35,65)
#crop your climatic maps
variable_crop<- crop (variable, e)
variable_crop
X11()
par (mfrow=c(1,2))
plot (niche$bio1, niche$bio10, xlab= "prectip of warmest qrt"
, ylab= "temp warmest qurt" )
niche <- extract (variable_crop, coord)
niche <- as.data.frame (niche)
X11()
par (mfrow=c(1,2))
plot (niche$bio1, niche$bio10, xlab= "prectip of warmest qrt"
, ylab= "temp warmest qurt" )
niche
niche
setwd ("C:/Users/jakubecp/Dropbox/SGEM_2015/Article_1")# skola
cz.nic.raw = read.csv ("nicr.czech.csv", header= TRUE, sep=";")
head(cz.nic.raw)
## first solution
n=length(cz.nic.raw$lat)
cz.lat = c()
cz.long = c()
for (i in 1:n) {
cz.lat[i]=dms2deg (as.character (cz.nic.raw[i,5]), sep="DMS")
cz.long[i]=dms2deg (as.character (cz.nic.raw[i,6]), sep="DMS")
}
#RAW data from GBIF (only records with coordinates and you should set up upper limit of them)
n.sep<- occ_search(scientificName = "Nicrophorus sepultor",
hasCoordinate= TRUE, limit = 500)
#coordinates of observations (filter out NAs and obvious mistakes!)
coord <- data.frame (long = n.sep$data$decimalLongitude ,
lat= n.sep$data$decimalLatitude)
## merge three datasets cz.lat, cz.long, antennatus (0,1),
## + decimalLongitude and decimalLatitude
# new line to coord data frame with presence/absence data
sep = c(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1)
length (sep)
coord = data.frame (coord, sep)
## bind data from previous manipulation (dms to dd) with presence/absence data
coord.cz = data.frame (long = cz.long, lat = cz.lat, sep = cz.nic.raw$sepultor)
## bind both dataframes (GBIF + CZ) together
coord.full = rbind (coord, coord.cz)
## created two data frames with presence data and absence data.
coord = data.frame (long = coord.full$long [coord.full$sep == "1"],
lat = coord.full$lat [coord.full$sep == "1"])
coord.neg = data.frame (long = coord.full$long [coord.full$sep == "0"],
lat = coord.full$lat [coord.full$sep == "0"])
setwd ("F:/Spatial_modeling/ENM_2015_Varela/climatic_layers/worldclim ")#disk 2 skola
variable<- stack (c("bio10.bil", "bio8.bil", "bio16.bil", "bio1.bil")) #(c("bio10.bil", "bio8.bil", "bio2.bil", "bio1.bil"))
#optional-if you are interested in more local (and quicker) predictions
#make an object (e) of certain extant (xmin, xmax, ymin, ymax) for croping
e<-extent (-10,38,35,65)
#crop your climatic maps
variable_crop<- crop (variable, e)
#Project niches of target species by extracting values from raster and ploting them
niche <- extract (variable_crop, coord)
niche <- as.data.frame (niche)
niche
cz.nic.raw = read.csv ("nicr.czech.csv", header= TRUE, sep=";")
head(cz.nic.raw)
n=length(cz.nic.raw$lat)
cz.lat = c()
cz.long = c()
for (i in 1:n) {
cz.lat[i]=dms2deg (as.character (cz.nic.raw[i,5]), sep="DMS")
cz.long[i]=dms2deg (as.character (cz.nic.raw[i,6]), sep="DMS")
}
#RAW data from GBIF (only records with coordinates and you should set up upper limit of them)
n.ant<- occ_search(scientificName = "Nicrophorus antennatus",
hasCoordinate= TRUE, limit = 500)
#coordinates of observations (filter out NAs and obvious mistakes!)
coord <- data.frame (long = n.ant$data$decimalLongitude ,
lat= n.ant$data$decimalLatitude)
## merge three datasets cz.lat, cz.long, antennatus (0,1),
## + decimalLongitude and decimalLatitude
# new line to coord data frame with presence/absence data
antenn = c(1,1,1,1,1,1,1,1,1,1)
length(antenn)
coord = data.frame (coord, antenn)
## bind data from previous manipulation (dms to dd) with presence/absence data
coord.cz = data.frame (long = cz.long, lat = cz.lat, antenn = cz.nic.raw$antennatus)
## bind both dataframes (GBIF + CZ) together
coord.full = rbind (coord, coord.cz)
## created two data frames with presence data and absence data.
coord = data.frame (long = coord.full$long [coord.full$antenn == "1"],
lat = coord.full$lat [coord.full$antenn == "1"])
coord.neg = data.frame (long = coord.full$long [coord.full$antenn == "0"],
lat = coord.full$lat [coord.full$antenn == "0"])
setwd ("F:/Spatial_modeling/ENM_2015_Varela/climatic_layers/worldclim ")#disk 2 skola
variable<- stack (c("bio10.bil", "bio8.bil", "bio16.bil", "bio1.bil")) #(c("bio10.bil", "bio8.bil", "bio2.bil", "bio1.bil"))
#optional-if you are interested in more local (and quicker) predictions
#make an object (e) of certain extant (xmin, xmax, ymin, ymax) for croping
e<-extent (-10,38,35,65)
#crop your climatic maps
variable_crop<- crop (variable, e)
#Project niches of target species by extracting values from raster and ploting them
niche <- extract (variable_crop, coord)
niche <- as.data.frame (niche)
niche
setwd ("C:/Users/jakubecp/Dropbox/SGEM_2015/Article_1")# skola
cz.nic.raw = read.csv ("nicr.czech.csv", header= TRUE, sep=";")
head(cz.nic.raw)
## first solution f
n=length(cz.nic.raw$lat)
cz.lat = c()
cz.long = c()
for (i in 1:n) {
cz.lat[i]=dms2deg (as.character (cz.nic.raw[i,5]), sep="DMS")
cz.long[i]=dms2deg (as.character (cz.nic.raw[i,6]), sep="DMS")
}
#RAW data from GBIF (only records with coordinates and you should set up upper limit of them)
n.ant<- occ_search(scientificName = "Nicrophorus antennatus",
hasCoordinate= TRUE, limit = 500)
#coordinates of observations (filter out NAs and obvious mistakes!)
coord <- data.frame (long = n.ant$data$decimalLongitude ,
lat= n.ant$data$decimalLatitude)
## merge three datasets cz.lat, cz.long, antennatus (0,1),
## + decimalLongitude and decimalLatitude
# new line to coord data frame with presence/absence data
antenn = c(1,1,1,1,1,1,1,1,1,1)
length(antenn)
coord = data.frame (coord, antenn)
## bind data from previous manipulation (dms to dd) with presence/absence data
coord.cz = data.frame (long = cz.long, lat = cz.lat, antenn = cz.nic.raw$antennatus)
## bind both dataframes (GBIF + CZ) together
coord.full = rbind (coord, coord.cz)
## created two data frames with presence data and absence data.
coord = data.frame (long = coord.full$long [coord.full$antenn == "1"],
lat = coord.full$lat [coord.full$antenn == "1"])
coord.neg = data.frame (long = coord.full$long [coord.full$antenn == "0"],
lat = coord.full$lat [coord.full$antenn == "0"])
setwd ("F:/Spatial_modeling/ENM_2015_Varela/climatic_layers/worldclim ")#disk 2 skola
variable<- stack (c("bio10.bil", "bio8.bil", "bio16.bil", "bio1.bil")) #(c("bio10.bil", "bio8.bil", "bio2.bil", "bio1.bil"))
#optional-if you are interested in more local (and quicker) predictions
#make an object (e) of certain extant (xmin, xmax, ymin, ymax) for croping
e<-extent (-10,38,35,65)
#crop your climatic maps
variable_crop<- crop (variable, e)
maxent_all <- maxent (variable_crop, coord, args=c("maximumbackground=1000",
"betamultiplier=1",
"defaultprevalence=0.5"))
X11()
response (maxent_all)
maxent_all@results[5]
rm(list = ls())
setwd ("C:/Users/jakubecp/Dropbox/SGEM_2015/Article_1")# skola
cz.nic.raw = read.csv ("nicr.czech.csv", header= TRUE, sep=";")
head(cz.nic.raw)
## first solution for transformation of DMS into the decimal degrees
## with function convert
n=length(cz.nic.raw$lat)
cz.lat = c()
cz.long = c()
for (i in 1:n) {
cz.lat[i]=dms2deg (as.character (cz.nic.raw[i,5]), sep="DMS")
cz.long[i]=dms2deg (as.character (cz.nic.raw[i,6]), sep="DMS")
}
n.ger<- occ_search(scientificName = "Nicrophorus germanicus",
hasCoordinate= TRUE, limit = 500)
#coordinates of observations (filter out NAs and obvious mistakes!)
coord <- data.frame (long = n.ger$data$decimalLongitude ,
lat= n.ger$data$decimalLatitude)
## merge three datasets cz.lat, cz.long, antennatus (0,1),
## + decimalLongitude and decimalLatitude
# new line to coord data frame with presence/absence data
ger = c(1,1,1,1,1,1)
length (ger)
coord = data.frame (coord, ger)
## bind data from previous manipulation (dms to dd) with presence/absence data
coord.cz = data.frame (long = cz.long, lat = cz.lat, ger = cz.nic.raw$germanicus)
## bind both dataframes (GBIF + CZ) together
coord.full = rbind (coord, coord.cz)
## created two data frames with presence data and absence data.
coord = data.frame (long = coord.full$long [coord.full$ger == "1"],
lat = coord.full$lat [coord.full$ger == "1"])
coord.neg = data.frame (long = coord.full$long [coord.full$ger == "0"],
lat = coord.full$lat [coord.full$ger == "0"])
setwd ("F:/Spatial_modeling/ENM_2015_Varela/climatic_layers/worldclim ")#disk 2 skola
variable<- stack (c("bio10.bil", "bio8.bil", "bio16.bil", "bio1.bil")) #(c("bio10.bil", "bio8.bil", "bio2.bil", "bio1.bil"))
#optional-if you are interested in more local (and quicker) predictions
#make an object (e) of certain extant (xmin, xmax, ymin, ymax) for croping
e<-extent (-10,38,35,65)
#crop your climatic maps
variable_crop<- crop (variable, e)
maxent_all <- maxent (variable_crop, coord, args=c("maximumbackground=1000",
"betamultiplier=1",
"defaultprevalence=0.5"))
maxent_all@results[5]
rm(list = ls())
data(wrld_simpl) #create the World map with borders
##trasfering data from our observations in czech republic
setwd ("C:/Users/jakubecp/Dropbox/SGEM_2015/Article_1")# skola
cz.nic.raw = read.csv ("nicr.czech.csv", header= TRUE, sep=";")
head(cz.nic.raw)
## first solution for transformation of DMS into the decimal degrees
## with function convert
n=length(cz.nic.raw$lat)
cz.lat = c()
cz.long = c()
for (i in 1:n) {
cz.lat[i]=dms2deg (as.character (cz.nic.raw[i,5]), sep="DMS")
cz.long[i]=dms2deg (as.character (cz.nic.raw[i,6]), sep="DMS")
}
#RAW data from GBIF (only records with coordinates and you should set up upper limit of them)
n.sep<- occ_search(scientificName = "Nicrophorus sepultor",
hasCoordinate= TRUE, limit = 500)
#coordinates of observations (filter out NAs and obvious mistakes!)
coord <- data.frame (long = n.sep$data$decimalLongitude ,
lat= n.sep$data$decimalLatitude)
## merge three datasets cz.lat, cz.long, antennatus (0,1),
## + decimalLongitude and decimalLatitude
# new line to coord data frame with presence/absence data
sep = c(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1)
length (sep)
coord = data.frame (coord, sep)
## bind data from previous manipulation (dms to dd) with presence/absence data
coord.cz = data.frame (long = cz.long, lat = cz.lat, sep = cz.nic.raw$sepultor)
## bind both dataframes (GBIF + CZ) together
coord.full = rbind (coord, coord.cz)
## created two data frames with presence data and absence data.
coord = data.frame (long = coord.full$long [coord.full$sep == "1"],
lat = coord.full$lat [coord.full$sep == "1"])
coord.neg = data.frame (long = coord.full$long [coord.full$sep == "0"],
lat = coord.full$lat [coord.full$sep == "0"])
setwd ("F:/Spatial_modeling/ENM_2015_Varela/climatic_layers/worldclim ")#disk 2 skola
variable<- stack (c("bio10.bil", "bio8.bil", "bio16.bil", "bio1.bil")) #(c("bio10.bil", "bio8.bil", "bio2.bil", "bio1.bil"))
#optional-if you are interested in more local (and quicker) predictions
#make an object (e) of certain extant (xmin, xmax, ymin, ymax) for croping
e<-extent (-10,38,35,65)
#crop your climatic maps
variable_crop<- crop (variable, e)
maxent_all <- maxent (variable_crop, coord, args=c("maximumbackground=1000",
"betamultiplier=1",
"defaultprevalence=0.5"))
maxent_all@results[5]
